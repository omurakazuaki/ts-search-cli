sequenceDiagram
    participant User
    participant CLI
    participant Server
    participant NavigationController
    participant SearchSymbolUseCase
    participant LspRepository
    participant LspProcessManager
    participant LSPServer

    User->>CLI: ts-search search "query"
    CLI->>Server: GET /search?query="query"
    Server->>NavigationController: search(req, reply)
    NavigationController->>SearchSymbolUseCase: execute("query")
    SearchSymbolUseCase->>LspRepository: getWorkspaceSymbols("query")
    LspRepository->>LspProcessManager: stdin(JSON-RPC request)
    LspProcessManager->>LSPServer: write to stdin
    LSPServer-->>LspProcessManager: stdout(JSON-RPC response)
    LspProcessManager-->>LspRepository: read from stdout
    LspRepository-->>SearchSymbolUseCase: SymbolInformation[]
    SearchSymbolUseCase-->>NavigationController: candidates
    NavigationController-->>Server: JSON response
    Server-->>CLI: JSON response
    CLI-->>User: Display results
